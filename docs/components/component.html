<!DOCTYPE html>

<html>

<head>
  <title>
    Classe *Component*
  </title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../docco.css" />
</head>

<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
            <div id="jump_page_wrapper">
              <div id="jump_page">
                
                  
                    <a class="source" href="../chickendodge.html">
                      chickendodge.js
                    </a>
                    
                  
                    <a class="source" href="../components.html">
                      components.js
                    </a>
                    
                  
                    <a class="source" href="backgroundLoaderComponent.html">
                      components/backgroundLoaderComponent.js
                    </a>
                    
                  
                    <a class="source" href="cameraComponent.html">
                      components/cameraComponent.js
                    </a>
                    
                  
                    <a class="source" href="chickenComponent.html">
                      components/chickenComponent.js
                    </a>
                    
                  
                    <a class="source" href="chickenSpawnerComponent.html">
                      components/chickenSpawnerComponent.js
                    </a>
                    
                  
                    <a class="source" href="colliderComponent.html">
                      components/colliderComponent.js
                    </a>
                    
                  
                    <a class="source" href="component.html">
                      components/component.js
                    </a>
                    
                  
                    <a class="source" href="compositorComponent.html">
                      components/compositorComponent.js
                    </a>
                    
                  
                    <a class="source" href="countdownComponent.html">
                      components/countdownComponent.js
                    </a>
                    
                  
                    <a class="source" href="debugDrawCallsComponent.html">
                      components/debugDrawCallsComponent.js
                    </a>
                    
                  
                    <a class="source" href="deformationCompositorComponent.html">
                      components/deformationCompositorComponent.js
                    </a>
                    
                  
                    <a class="source" href="enablerComponent.html">
                      components/enablerComponent.js
                    </a>
                    
                  
                    <a class="source" href="heartComponent.html">
                      components/heartComponent.js
                    </a>
                    
                  
                    <a class="source" href="inputComponent.html">
                      components/inputComponent.js
                    </a>
                    
                  
                    <a class="source" href="layerComponent.html">
                      components/layerComponent.js
                    </a>
                    
                  
                    <a class="source" href="lifeComponent.html">
                      components/lifeComponent.js
                    </a>
                    
                  
                    <a class="source" href="playerComponent.html">
                      components/playerComponent.js
                    </a>
                    
                  
                    <a class="source" href="positionComponent.html">
                      components/positionComponent.js
                    </a>
                    
                  
                    <a class="source" href="rawSpriteComponent.html">
                      components/rawSpriteComponent.js
                    </a>
                    
                  
                    <a class="source" href="rectangle.html">
                      components/rectangle.js
                    </a>
                    
                  
                    <a class="source" href="refereeComponent.html">
                      components/refereeComponent.js
                    </a>
                    
                  
                    <a class="source" href="renderCompositorComponent.html">
                      components/renderCompositorComponent.js
                    </a>
                    
                  
                    <a class="source" href="rupeeComponent.html">
                      components/rupeeComponent.js
                    </a>
                    
                  
                    <a class="source" href="scoreComponent.html">
                      components/scoreComponent.js
                    </a>
                    
                  
                    <a class="source" href="spriteComponent.html">
                      components/spriteComponent.js
                    </a>
                    
                  
                    <a class="source" href="spriteSheetComponent.html">
                      components/spriteSheetComponent.js
                    </a>
                    
                  
                    <a class="source" href="textSpriteComponent.html">
                      components/textSpriteComponent.js
                    </a>
                    
                  
                    <a class="source" href="textureComponent.html">
                      components/textureComponent.js
                    </a>
                    
                  
                    <a class="source" href="timerComponent.html">
                      components/timerComponent.js
                    </a>
                    
                  
                    <a class="source" href="../eventTrigger.html">
                      eventTrigger.js
                    </a>
                    
                  
                    <a class="source" href="../graphicsAPI.html">
                      graphicsAPI.js
                    </a>
                    
                  
                    <a class="source" href="../main.html">
                      main.js
                    </a>
                    
                  
                    <a class="source" href="../scene.html">
                      scene.js
                    </a>
                    
                  
                    <a class="source" href="../sceneObject.html">
                      sceneObject.js
                    </a>
                    
                  
                    <a class="source" href="../utils.html">
                      utils.js
                    </a>
                    
              </div>
            </div>
        </li>
      </ul>
      
        <ul class="sections">
          
              
                
                  <li id="section-1">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-1">&#182;</a>
                        </div>
                        
                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>define(() =&gt; {
  <span class="hljs-string">'use strict'</span>;</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-2">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-2">&#182;</a>
                        </div>
                        <h1 id="classe-component-">Classe <em>Component</em></h1>
<p>Cette classe est une classe de base pour l’ensemble des
composants et implémente les méthodes par défaut.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Component</span> </span>{</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-3">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-3">&#182;</a>
                        </div>
                        <h2 id="constructeur-de-la-classe-composant-">Constructeur de la classe <em>Composant</em></h2>
<p>Le constructeur de cette classe prend en paramètre l’objet
propriétaire du composant, et l’assigne au membre <code>owner</code>.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    <span class="hljs-keyword">constructor</span>(owner) {</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-4">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-4">&#182;</a>
                        </div>
                        <h2 id="membre-enabled-">Membre <em>enabled</em></h2>
<p>Si ce membre a une valeur fausse, les méthodes <em>update</em> et
<em>display</em> ne seront pas appelées.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>      <span class="hljs-keyword">this</span>._enabled = <span class="hljs-literal">true</span>;

      <span class="hljs-keyword">this</span>.owner = owner;
    }</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-5">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-5">&#182;</a>
                        </div>
                        <h2 id="m-thode-create-">Méthode <em>create</em></h2>
<p>Cette méthode est appelée pour configurer le composant avant
que tous les composants d’un objet aient été créés. Cette
méthode peut retourner une promesse.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    create( <span class="hljs-comment">/*descr*/</span> ) {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve();
    }</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-6">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-6">&#182;</a>
                        </div>
                        <h2 id="m-thode-setup-">Méthode <em>setup</em></h2>
<p>Cette méthode est appelée pour configurer le composant après
que tous les composants d’un objet aient été créés. Cette
méthode peut retourner une promesse.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    setup( <span class="hljs-comment">/*descr*/</span> ) {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve();
    }</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-7">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-7">&#182;</a>
                        </div>
                        <h2 id="m-thode-display-">Méthode <em>display</em></h2>
<p>La méthode <em>display</em> de chaque composant est appelée une fois
par itération de la boucle de jeu.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    display( <span class="hljs-comment">/*frame*/</span> ) {}</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-8">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-8">&#182;</a>
                        </div>
                        <h2 id="m-thode-update-">Méthode <em>update</em></h2>
<p>La méthode <em>update</em> de chaque composant est appelée une fois
par itération de la boucle de jeu.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    update( <span class="hljs-comment">/*frame*/</span> ) {}</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-9">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-9">&#182;</a>
                        </div>
                        <h2 id="accesseur-enabled-">Accesseur <em>enabled</em></h2>
<p>L’accesseur <em>enabled</em> active ou désactive le composant, et appelle
une méthode en réponse si l’état a changé.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    get enabled() {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._enabled;
    }

    set enabled(val) {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.enabled === val) {
        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-keyword">this</span>._enabled = val;

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.enabled) {
        <span class="hljs-keyword">this</span>.onEnabled();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.onDisabled();
      }
    }

    enable(val) {
      <span class="hljs-keyword">this</span>.enabled = val;
    }</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-10">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-10">&#182;</a>
                        </div>
                        <h2 id="m-thode-onenabled-">Méthode <em>onEnabled</em></h2>
<p>La méthode <em>onEnabled</em> est appelée quand l’objet passe de l’état
activé à désactivé.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    onEnabled() {}</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-11">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-11">&#182;</a>
                        </div>
                        <h2 id="m-thode-ondisabled-">Méthode <em>onDisabled</em></h2>
<p>La méthode <em>onDisabled</em> est appelée quand l’objet passe de l’état
désactivé à activé.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    onDisabled() {}</pre></div>
                      </div>
                      
                  </li>
                  
                
                  <li id="section-12">
                    <div class="annotation">
                      
                        <div class="pilwrap ">
                          <a class="pilcrow" href="#section-12">&#182;</a>
                        </div>
                        <h2 id="fonction-findcomponent-">Fonction <em>findComponent</em></h2>
<p>Cette fonction permet de trouver simplement un composant dans
un objet de la scène depuis un identifiant correspondant
au nom de l’objet et au type de composant, séparés par un point.
Par exemple: “MonObjet.MonComposant”.</p>

                    </div>
                    
                      <div class="content">
                        <div class='highlight'><pre>    findComponent(name) {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(name) !== <span class="hljs-string">'string'</span>) {
        <span class="hljs-keyword">return</span> name;
      }

      <span class="hljs-keyword">const</span> tokens = name.split(<span class="hljs-string">'.'</span>);
      <span class="hljs-keyword">const</span> targetName = tokens[<span class="hljs-number">0</span>];
      <span class="hljs-keyword">const</span> compName = tokens[<span class="hljs-number">1</span>];

      <span class="hljs-keyword">const</span> Scene = <span class="hljs-built_in">require</span>(<span class="hljs-string">'scene'</span>);
      <span class="hljs-keyword">const</span> target = Scene.current.findObject(targetName);
      <span class="hljs-keyword">return</span> target.getComponent(compName);
    }
  }

  <span class="hljs-keyword">return</span> Component;
});</pre></div>
                      </div>
                      
                  </li>
                  
        </ul>
        </div>
</body>

</html>
